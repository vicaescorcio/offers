
<section id="offers">
  <div class="card-columns">
    <%= render partial: './offers/partials/offers' %>
  </div>
  <%= paginate @offers %>
</section>

<script>
  function countDown(date, id) {
    console.log(date);
    if (date == '') { return; }
    setInterval(function() {
      var now = new Date().getTime();
      var expireDate = new Date(date).getTime();

      var left = expireDate - now;

      var days = Math.floor(left / (1000 * 60 * 60 * 24));
      var hours = Math.floor((left % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((left % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((left % (1000 * 60)) / 1000);

      if (left < 0) {
        clearInterval(x);
        document.getElementById(id).innerHTML = "EXPIRED";
      }

      document.getElementById(id).innerHTML = "Expires in " + days + "d " + hours + "h "
      + minutes + "m " + seconds + "s ";
    },1000);
  };
</script>
